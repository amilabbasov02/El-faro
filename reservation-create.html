<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/main.css">
    <link rel="stylesheet" href="./css/select2.mis.css">
    <link rel="stylesheet" href="./css/jquery-ui.min.css">
    <title>El Faro</title>
</head>

<body>
    <section id="sidebar">
        <div class="sidebar_top">
            <a href="" class="logo">
                <img src="./img/Logo.png" alt="">
            </a>
            <ul class="navbar">
                <li class="nav_item">
                    <a href="#">
                        <img src="./img/home.png" alt="">
                        Ana səhifə
                    </a>
                </li>
                <li class="nav_item">
                    <a href="#">
                        <img src="./img/user.png" alt="">
                        İstifadəçilər
                    </a>
                </li>
                <li class="nav_item">
                    <a href="#">
                        <img src="./img/category.png" alt="">
                        Kateqoriyalar
                    </a>
                </li>
                <li class="nav_item active">
                    <a href="#">
                        <img src="./img/room.png" alt="">
                        Otaqlar
                    </a>
                </li>
                <li class="nav_item">
                    <a href="#">
                        <img src="./img/reserve.png" alt="">
                        Rezervasiyalar
                    </a>
                </li>
                <li class="nav_item">
                    <a href="#">
                        <img src="./img/customer.png" alt="">
                        Müştərilər
                    </a>
                </li>
            </ul>
        </div>
        <div class="sidebar_bottom">
            <img src="./img/Profile.png" class="user_img" alt="">
            <a href="./pass-reset.html" class="user_name">
                Shahin Shahbazov
            </a>
            <a href="#" class="exit">
                <img src="./img/logout.png" alt="">
            </a>
        </div>
    </section>
    <main>
        <section id="reservation" class="main_block container create">
            <h1 class="head_text">
                Yeni rezervasiya
            </h1>
            <form action="" class="create_form filter">
                <label class="reservation_type">
                    Rezervasiya tipi
                    <div class="reservation_buttons">   
                        <a class="reservation_btn active" href="javascript:void(0)">
                            Şəxsi
                        </a>
                        <a class="reservation_btn" href="javascript:void(0)">
                            Şirkət
                        </a>
                    </div>
                </label>
                <label>
                    Vəzifəsi
                    <select name="" id="" class="room_select">
                        <option value="deluxe king">
                            Deluxe king
                        </option>
                        <option value="Junior suite">
                            Junior suite
                        </option>
                        <option value="Standart">
                            Standart
                        </option>
                        <option value="Family suite">
                            Family suite
                        </option>
                        <option value="Suite">
                            Suite
                        </option>
                        <option value="Suite">
                            Suite
                        </option>
                    </select>
                </label>
                <label for="surname">
                    Rezervasiya Qiyməti
                    <p class="reservation_price">
                        550 man
                    </p>
                </label>
                <label>
                    Otaqlar
                    <select name="" id="" class="room_select">
                        <option value="deluxe king">
                            Deluxe king
                        </option>
                        <option value="Junior suite">
                            Junior suite
                        </option>
                        <option value="Standart">
                            Standart
                        </option>
                        <option value="Family suite">
                            Family suite
                        </option>
                        <option value="Suite">
                            Suite
                        </option>
                        <option value="Suite">
                            Suite
                        </option>
                    </select>
                </label>
                <label for="price">
                    Qiymət  
                    <input id="price" type="text" class="users_input" placeholder="+994 55 555 55 55">
                    <span class="err">düzgün daxil edilməyib</span>
                </label>
                <label for="" class="room_number ">
                    Çıxış tarixi
                    <div class="datepicker-input-group">     
                        <input type="text" id="exitDate" placeholder="Seçin">
                    </div>
                </label>
                <label class="status_select">
                    Status
                    <input type="hidden" id="selectedStatus1" name="selectedStatus1">
                    <div id="statusList1" class="list_drop">
                        <ul>
                            <li class="statusOption1 status_wait">Gözləyir</li>
                            <li class="statusOption1 status_finished">Bitmiş</li>
                            <li class="statusOption1 status_active">Aktiv</li>
                            <li class="statusOption1 status_cancel">Ləğv</li>
                        </ul>
                    </div>
                    <div id="statusContainer1" class="status_drop datepicker-input-group">
                        <span id="SelectedStatusDiv1">Seç</span>
                    </div>
                </label>
                <label for="" class="room_number ">
                    Giriş tarixi
                    <div class="datepicker-input-group">     
                        <input type="text" id="entryDate" placeholder="Seçin">
                    </div>
                </label>
                <label class="status_select">
                    Status
                    <input type="hidden" id="selectedStatus" name="selectedStatus">
                    <div id="statusList" class="list_drop">
                        <ul>
                            <li class="statusOption status_wait">Gözləyir</li>
                            <li class="statusOption status_finished">Bitmiş</li>
                            <li class="statusOption status_active">Aktiv</li>
                            <li class="statusOption status_cancel">Ləğv</li>
                        </ul>
                    </div>
                    <div id="statusContainer" class="status_drop datepicker-input-group">
                        <span id="SelectedStatusDiv">Seç</span>
                    </div>
                </label>
                <label for="extrabet" class="checkbox">
                    <input id="extrabet" type="checkbox">
                    Ekstrabet
                </label>
                <div class="customers">
                    <h3 class="head_text">
                        Müştərilər
                    </h3>
                    <div id="customer1" class="accordion active">
                        <div class="customer_accordion">
                            <p class="accordion_head">
                                Müştəri 
                            </p>
                            <img src="./img/arrow-down.svg" alt="">
                        </div>
                        <div id="customer1Main" class="create_form filter accordion_main">
                            <label class="not-disable" for="fin">
                                FIN kodu
                                <div class="search_fin">
                                    <input id="fin" type="text" class="users_input" placeholder="FIN kod daxil edin">
                                    <div class="search_icon">
                                        <img src="./img/search_fin.svg" alt="">
                                    </div>
                                    <span class="err">düzgün daxil edilməyib</span>
                                </div>
                            </label>
                            <label for="serialNumber">
                                Seriya No
                                <input id="serialNumber" type="text" class="users_input" placeholder="Ad daxil edin">
                                <span class="err">düzgün daxil edilməyib</span>
                            </label>
                            <label for="name">
                                Ad
                                <input id="name" type="text" class="users_input text_input" placeholder="Ad daxil edin">
                                <span class="err">düzgün daxil edilməyib</span>
                            </label>
                            <label for="phone">
                                Telefon nömrəsi
                                <input id="phone" type="text" maxlength="17" class="users_input phone" placeholder="+994 55 555 55 55">
                                <span class="err">düzgün daxil edilməyib</span>
                            </label>
                            <label for="surname">
                                Soyadı
                                <input id="surname" type="text" class="users_input text_input" placeholder="Soyad daxil edin">
                                <span class="err">düzgün daxil edilməyib</span>
                            </label>
                            <label for="carNumber">
                                Avtomobil qeydiyyat nişanı
                                <input id="carNumber" type="text" class="users_input" placeholder="Qeyd edin">
                                <span class="err">düzgün daxil edilməyib</span>
                            </label>
                            <label for="birthday" class="room_number ">
                                Doğum tarixi
                                <div class="datepicker-input-group">     
                                    <input id="birthday" type="text"  placeholder="Seçin" class="birthday">
                                    <span class="err">düzgün daxil edilməyib</span>
                                </div>
                            </label>
                            <label for="firstPerson" class="checkbox not-disable customer_checkbox">
                                <input id="firstPerson" type="checkbox">
                                Birincil şəxs
                            </label>
                            <div class="delete_div">
                                <a href="javascript:void(0)" class="delete">
                                    <img src="./img/trash.svg" alt="">
                                    Müştərini sil
                                </a>
                                <div class="pop_up">
                                    <div class="pop_bg"></div>
                                    <div class="pop_up_main">
                                        <h4 class="pop_up_head">
                                            Müştərini sil
                                            <div class="close_btn">
                                                <img src="./img/x_icon.svg" alt="">
                                            </div>
                                        </h4>
                                        <p class="pop_up_text">
                                            Nullam id dolor id nibh ultricies vehicula ut id elit. Maecenas faucibus mollis interdum.
                                            Donec ullamcorper nulla non metus auctor fringilla.
                                        </p>
                                        <div class="pop_up_buttons">   
                                            <a class="back_btn" href="javascript:void(0)">
                                                Geri qayıt
                                            </a>
                                            <a class="delete_btn" href="javascript:void(0)">
                                                Sil
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <span class="notification notification_deleted"><img src="./img/room.png" alt="">Müştəri rezervasiyadan silindi</span>
                        </div>
                    </div>
                    <div id="customer4" class="accordion active disable">
                        <div class="customer_accordion">
                            <p class="accordion_head">
                                Müştəri 
                            </p>
                            <img src="./img/arrow-down.svg" alt="">
                        </div>
                        <div id="customer4Main" class="create_form filter accordion_main">
                            <label class="not-disable" for="fin">
                                FIN kodu
                                <div class="search_fin">
                                    <input id="fin" type="text" class="users_input" placeholder="FIN kod daxil edin">
                                    <div class="search_icon">
                                        <img src="./img/search_fin.svg" alt="">
                                    </div>
                                    <span class="err">düzgün daxil edilməyib</span>
                                </div>
                            </label>
                            <label for="serialNumber">
                                Seriya No
                                <input id="serialNumber" disabled type="text" class="users_input" placeholder="Ad daxil edin">
                                <span class="err">düzgün daxil edilməyib</span>
                            </label>
                            <label for="name">
                                Ad
                                <input id="name" type="text" disabled class="users_input text_input" placeholder="Ad daxil edin">
                                <span class="err">düzgün daxil edilməyib</span>
                            </label>
                            <label for="phone">
                                Telefon nömrəsi
                                <input id="phone" type="text" class="users_input phone" placeholder="+994 55 555 55 55">
                                <span class="err">düzgün daxil edilməyib</span>
                            </label>
                            <label for="surname">
                                Soyadı
                                <input id="surname" disabled type="text" class="users_input text_input" placeholder="Soyad daxil edin">
                                <span class="err">düzgün daxil edilməyib</span>
                            </label>
                            <label for="carNumber">
                                Avtomobil qeydiyyat nişanı
                                <input id="carNumber" disabled type="text" class="users_input" placeholder="Qeyd edin">
                                <span class="err">düzgün daxil edilməyib</span>
                            </label>
                            <label for="birthday" class="room_number ">
                                Doğum tarixi
                                <div class="datepicker-input-group">     
                                    <input id="birthday" disabled type="text"  placeholder="Seçin" class="birthday">
                                    <span class="err">düzgün daxil edilməyib</span>
                                </div>
                            </label>
                            <label for="firstPerson4" class="checkbox not-disable customer_checkbox">
                                <input id="firstPerson4" type="checkbox">
                                Birincil şəxs
                            </label>
                            <div class="delete_div">
                                <a href="javascript:void(0)" class="delete">
                                    <img src="./img/trash.svg" alt="">
                                    Müştərini sil
                                </a>
                                <div class="pop_up">
                                    <div class="pop_bg"></div>
                                    <div class="pop_up_main">
                                        <h4 class="pop_up_head">
                                            Müştərini sil
                                            <div class="close_btn">
                                                <img src="./img/x_icon.svg" alt="">
                                            </div>
                                        </h4>
                                        <p class="pop_up_text">
                                            Nullam id dolor id nibh ultricies vehicula ut id elit. Maecenas faucibus mollis interdum.
                                            Donec ullamcorper nulla non metus auctor fringilla.
                                        </p>
                                        <div class="pop_up_buttons">   
                                            <a class="back_btn" href="javascript:void(0)">
                                                Geri qayıt
                                            </a>
                                            <a class="delete_btn" href="javascript:void(0)">
                                                Sil
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <span class="notification notification_deleted"><img src="./img/room.png" alt="">Müştəri rezervasiyadan silindi</span>
                        </div>
                    </div>
                </div>
                <div class="new_customer">
                    <a href="javascript:void(0)">
                        <img src="./img/plus_customer.png" alt="">
                        Yeni müştəri
                    </a>
                </div>
                <div class="save_div">
                    <button class="new_btn">
                        Yadda saxla
                    </button>
                </div>
                <span class="notification notification_deleted"><img src="./img/customer.png" alt="">Müştəri rezervasiyadan silindi</span>
                <span class="notification notification_access"><img src="./img/customer.png" alt="">Dəyişikliklər yadda saxlanıldı</span>
            </form>
        </section>
    </main>



    <script src="./js/jquery.min.js"></script>
    <script src="./js/jquery-ui.min.js"></script>
    <script src="./js/select2.min.js"></script>
    <script src="./js/main.js"></script>
    <script>
        function getRandomId() {
            return Math.random().toString(36).substr(2, 9);
        }
        function attachEvents() {
            $(".delete").off("click").on("click", function () {
                $(this).siblings(".pop_up").toggle();
            });

            $(".back_btn, .close_btn, .pop_bg").off("click").on("click", function () {
                $(this).closest(".pop_up").toggle();
            });

            $(".delete_btn").off("click").on("click", function () {
                $(this).closest(".accordion").remove();
                $('.notification_deleted').css('display', 'flex').fadeIn();
                setTimeout(function () {
                    $('.notification_deleted').fadeOut();
                }, 2000);
                $(this).closest(".pop_up").toggle();
            });

            $(".text_input").off("input").on("input", function () {
                var inputValue = $(this).val();
                $(this).val(inputValue.replace(/[^a-zA-Z]/g, ''));
            });

            $(".birthday").off("input").on("input", function () {
                var inputValue = $(this).val();
                var numericValue = inputValue.replace(/[^\d./\-]/g, '');
                $(this).val(numericValue);
            });

            $(".phone").off("input").on("input", function () {
                var inputValue = $(this).val();
                var numericValue = inputValue.replace(/\D/g, '');
                if (numericValue.length > 0) {
                    numericValue = "+" + numericValue;
                }
                var formattedValue = numericValue.replace(/(\+\d{3})(\d{2})(\d{3})(\d{2})(\d{2})/, "$1 $2 $3 $4 $5");
                $(this).val(formattedValue);
            });
        }
        $('.new_customer a').click(function() {
            const randomId = getRandomId();
            const customerDiv = $(`
            <div id="customer${randomId}" class="accordion">
                    <div class="customer_accordion">
                        <p class="accordion_head">
                            Müştəri
                        </p>
                        <img src="./img/arrow-down.svg" alt="">
                    </div>
                    <div id="customer${randomId}Main" class="create_form filter accordion_main">
                        <label class="not-disable" for="fin${randomId}">
                            FIN kodu
                            <div class="search_fin">
                                <input id="fin${randomId}" type="text" class="users_input" placeholder="FIN kod daxil edin">
                                <div class="search_icon">
                                    <img src="./img/search_fin.svg" alt="">
                                </div>
                                <span class="err">düzgün daxil edilməyib</span>
                            </div>
                        </label>
                        <label for="serialNumber${randomId}">
                            Seriya No
                            <input id="serialNumber${randomId}" type="text" class="users_input" placeholder="Ad daxil edin">
                            <span class="err">düzgün daxil edilməyib</span>
                        </label>
                        <label for="name${randomId}">
                            Ad
                            <input id="name${randomId}" type="text" class="users_input text_input" placeholder="Ad daxil edin">
                            <span class="err">düzgün daxil edilməyib</span>
                        </label>
                        <label for="phone${randomId}">
                            Telefon nömrəsi
                            <input id="phone${randomId}" type="text" maxlength="17" class="users_input phone" placeholder="+994 55 555 55 55">
                            <span class="err">düzgün daxil edilməyib</span>
                        </label>
                        <label for="surname${randomId}">
                            Soyadı
                            <input id="surname${randomId}" type="text" class="users_input text_input" placeholder="Soyad daxil edin">
                            <span class="err">düzgün daxil edilməyib</span>
                        </label>
                        <label for="carNumber${randomId}">
                            Avtomobil qeydiyyat nişanı
                            <input id="carNumber${randomId}" type="text" class="users_input" placeholder="Qeyd edin">
                            <span class="err">düzgün daxil edilməyib</span>
                        </label>
                        <label for="birthday${randomId}" class="room_number ">
                            Doğum tarixi
                            <div class="datepicker-input-group">     
                                <input id="birthday${randomId}" type="text"  placeholder="Seçin" class="birthday">
                                <span class="err">düzgün daxil edilməyib</span>
                            </div>
                        </label>
                        <label for="firstPerson${randomId}" class="checkbox not-disable customer_checkbox">
                            <input id="firstPerson${randomId}" type="checkbox">
                            Birincil şəxs
                        </label>
                        <div class="delete_div">
                            <a href="javascript:void(0)" class="delete">
                                <img src="./img/trash.svg" alt="">
                                Müştərini sil
                            </a>
                            <div class="pop_up">
                                <div class="pop_bg"></div>
                                <div class="pop_up_main">
                                    <h4 class="pop_up_head">
                                        Müştərini sil
                                        <div class="close_btn">
                                            <img src="./img/x_icon.svg" alt="">
                                        </div>
                                    </h4>
                                    <p class="pop_up_text">
                                        Nullam id dolor id nibh ultricies vehicula ut id elit. Maecenas faucibus mollis interdum.
                                        Donec ullamcorper nulla non metus auctor fringilla.
                                    </p>
                                    <div class="pop_up_buttons">   
                                        <a class="back_btn" href="javascript:void(0)">
                                            Geri qayıt
                                        </a>
                                        <a class="delete_btn" href="javascript:void(0)">
                                            Sil
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <span class="notification notification_deleted"><img src="./img/room.png" alt="">Müştəri rezervasiyadan silindi</span>
                    </div>
                </div>
            `);
            
            $('.customers').append(customerDiv);
            $(".customer_accordion").click(function(){
                $(this).parent().toggleClass("active")
            })
            attachEvents()
        });
        attachEvents()
    </script>
</body>

</html>